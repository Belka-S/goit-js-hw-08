{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,sBACtC,IAAIC,EAAW,CAAC,EAChB,MAAMC,EAAc,sBACdC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQL,IAErDM,iBAAiB,QAIjB,SAAgBC,GACVN,GACFO,OAAOC,KAAKR,GAAcS,SAAQC,IAChCf,EAAOE,cAAc,UAAUa,MAAQC,MAAQX,EAAaU,EAAI,GAGtE,IATAf,EAAOU,iBAAiB,SAAS,EAAAZ,EAAAmB,WAWjC,SAAiBN,GACXN,IACFF,EAAWE,GAEbF,EAASQ,EAAEO,OAAOC,MAAQR,EAAEO,OAAOF,MACnCR,aAAaY,QAAQhB,EAAaE,KAAKe,UAAUlB,GACnD,GAjBmD,MACnDH,EAAOU,iBAAiB,UAkBxB,SAAkBC,GAChBA,EAAEW,iBACFX,EAAEO,OAAOK,QACTf,aAAagB,WAAWpB,GACxBQ,OAAOC,KAAKV,GAAUW,SAAQC,UAAcZ,EAASY,IACvD","sources":["src/js/03-feedback.js"],"sourcesContent":["import { debounce } from 'lodash';\n\nconst formEl = document.querySelector('form.feedback-form');\nlet formData = {};\nconst STORAGE_KEY = 'feedback-form-state';\nconst storageValue = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\naddEventListener('load', onLoad);\nformEl.addEventListener('input', debounce(onInput, 500));\nformEl.addEventListener('submit', onSubmit);\n\nfunction onLoad(e) {\n  if (storageValue) {\n    Object.keys(storageValue).forEach(key => {\n      formEl.querySelector(`[name=\"${key}\"`).value = storageValue[key];\n    });\n  }\n}\n\nfunction onInput(e) {\n  if (storageValue) {\n    formData = storageValue;\n  }\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  e.target.reset();\n  localStorage.removeItem(STORAGE_KEY);\n  Object.keys(formData).forEach(key => delete formData[key]);\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$formData","$945622fd0f572e60$var$STORAGE_KEY","$945622fd0f572e60$var$storageValue","JSON","parse","localStorage","getItem","addEventListener","e","Object","keys","forEach","key","value","debounce","target","name","setItem","stringify","preventDefault","reset","removeItem"],"version":3,"file":"03-feedback.dab84e98.js.map"}